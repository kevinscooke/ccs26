---
alwaysApply: true
---
## Branching
- feat/*, fix/*, chore/*.
- One logical scope per PR.

## Pre-Push Checklist
Before pushing to main/Netlify, see `Docs/Pre_Push_Checklist.md` for full checklist.

**Quick validation:**
```bash
pnpm lint && pnpm typecheck && pnpm validate:jsonld
```

**Required checks:**
- [ ] `pnpm lint` passes
- [ ] `pnpm typecheck` passes
- [ ] `pnpm validate:jsonld` — review JSON-LD pages
- [ ] `pnpm build` succeeds
- [ ] Test JSON-LD after Netlify deploy with Google Rich Results Test

## PR Checklist
- Linked issue or PRD section.
- Lint + typecheck + unit tests pass.
- Screenshots for UI, `curl` for API, or task-runner output.
- DB change? Include migration + rollback plan.
- JSON-LD changes? Validate with `pnpm validate:jsonld` and test after deploy.

## Local DB
- Use `.env.local` for DATABASE_URL.

## CI
- Steps: install → typecheck → lint → unit tests → build → `prisma migrate deploy`.
- For e2e: spin ephemeral Postgres, run seeds, Playwright tests.

## Releases
- Tag with `vX.Y.Z`; generate changelog from Conventional Commits.

## Change Confirmation Protocol
**IMPORTANT:** Before making structural changes (file moves, URL changes, route restructuring):
1. **Confirm the intended URL/path** - Ask user to confirm the exact URL format before changing links
2. **Verify file location** - Check if files should be in `/events/` vs root `/` before moving
3. **Check existing patterns** - Look at similar pages (e.g., Charlotte Auto Show) to match URL patterns
4. **Update all references** - When changing URLs, update Footer, TopNav, metadata, and breadcrumbs together

**When in doubt about URLs or file structure, ask the user for confirmation before proceeding.**